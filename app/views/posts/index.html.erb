<div class="min-h-screen transition-colors duration-500 bg-white dark:bg-gray-900">
  <div class="container mx-auto py-10 px-4">
    <div class="flex flex-col gap-4 mb-8 animate-fade-up">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <h1 class="text-4xl font-extrabold text-gray-700 dark:text-gray-300">ÊäïÁ®ø‰∏ÄË¶ß</h1>
        <%= link_to "Êñ∞Ë¶èÊäïÁ®ø", new_post_path, class: "bg-blue-600 hover:bg-blue-700 hover:scale-105 active:scale-95 text-white font-bold py-2 px-6 rounded-lg shadow-md transition-all duration-200 w-fit" %>
      </div>

      <%= form_with url: posts_path, method: :get, local: true, class: "flex flex-col sm:flex-row gap-3" do |f| %>
        <div class="flex-1 relative">
          <input type="search" name="q" value="<%= @search_query %>" placeholder="„Çø„Ç§„Éà„É´„ÉªÊú¨Êñá„ÅßÊ§úÁ¥¢..." class="w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent pl-4 pr-10 py-2.5 text-sm transition duration-200" />
          <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 pointer-events-none">üîç</span>
        </div>
        <div class="flex items-center gap-2">
          <label for="category_id" class="text-sm font-medium text-gray-600 dark:text-gray-400 whitespace-nowrap">„Ç´„ÉÜ„Ç¥„É™:</label>
          <select name="category_id" id="category_id" class="rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-600 focus:border-transparent px-3 py-2.5 text-sm transition duration-200">
            <option value="" <%= @selected_category_id.blank? ? "selected" : "" %>>„Åô„Åπ„Å¶</option>
            <% @categories.each do |category| %>
              <option value="<%= category.id %>" <%= @selected_category_id.to_s == category.id.to_s ? "selected" : "" %>><%= category.name %></option>
            <% end %>
          </select>
          <button type="submit" class="rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2.5 text-sm font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
            Ê§úÁ¥¢
          </button>
        </div>
      <% end %>
    </div>

    <div id="posts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <% @posts.each_with_index do |post, index| %>
        <div class="group bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-xl hover:-translate-y-1 hover:border-blue-200 dark:hover:border-blue-800/50 transition-all duration-300 animate-fade-up" style="animation-delay: <%= (index * 0.08).to_s %>s">
          <div class="text-gray-600 dark:text-gray-400">
            <%= render post %>
          </div>

          <div class="mt-4 pt-4 border-t border-gray-50 dark:border-gray-700">
            <%= link_to post, class: "inline-flex items-center gap-1 text-blue-500 dark:text-blue-400 hover:text-blue-600 dark:hover:text-blue-300 font-medium transition-colors group-hover:gap-2 duration-200" do %>
              Ë©≥Á¥∞„ÇíË¶ã„Çã
              <span class="transition-transform duration-200 group-hover:translate-x-0.5">‚Üí</span>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>